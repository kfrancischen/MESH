
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Kaifeng Chen">
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.2, mkdocs-material-1.5.1">
    
    
      
        <title>Equations & Features - MESH documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-8d06ab29f4.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="MESH documentation" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Overview
                </span>
              
            
            Equations & Features
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/kfrancischen/MESH" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    MESH documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/kfrancischen/MESH" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Equations & Features
      </label>
    
    <a href="./" title="Equations & Features" class="md-nav__link md-nav__link--active">
      Equations & Features
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#physical-quantities-computed-by-mesh" title="Physical Quantities Computed By MESH" class="md-nav__link">
    Physical Quantities Computed By MESH
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-planar-geometries" title="Heat transfer in planar geometries" class="md-nav__link">
    Heat transfer in planar geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-grating-geometries" title="Heat transfer in grating geometries" class="md-nav__link">
    Heat transfer in grating geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-pattern-geometries" title="Heat transfer in pattern geometries" class="md-nav__link">
    Heat transfer in pattern geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supports-over-both-scalar-dielectric-and-tensor-dielectric" title="Supports over both scalar dielectric and tensor dielectric" class="md-nav__link">
    Supports over both scalar dielectric and tensor dielectric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-comprehensive-lua-wrapper-for-users" title="A Comprehensive Lua Wrapper for Users" class="md-nav__link">
    A Comprehensive Lua Wrapper for Users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Lua API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Lua API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../LuaAPI/baseClass/" title="Base Class" class="md-nav__link">
      Base Class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../LuaAPI/planar/" title="SimulationPlanar" class="md-nav__link">
      SimulationPlanar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../LuaAPI/grating/" title="SimulationGrating" class="md-nav__link">
      SimulationGrating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../LuaAPI/pattern/" title="SimulationPattern" class="md-nav__link">
      SimulationPattern
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      C++ API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        C++ API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../C++API/classAndFunction/" title="Classes and Functions" class="md-nav__link">
      Classes and Functions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/tutorial/" title="Tutorial Example" class="md-nav__link">
      Tutorial Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/planeFarField/" title="Single Plane Far-field" class="md-nav__link">
      Single Plane Far-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/planeNearField/" title="Two Planes Near-field" class="md-nav__link">
      Two Planes Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/anisotropic/" title="Anisotropic Material Near-field" class="md-nav__link">
      Anisotropic Material Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/iterate/" title="Iterate Over Gaps Near-field" class="md-nav__link">
      Iterate Over Gaps Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/gratingNearField/" title="Two Gratings Near-field" class="md-nav__link">
      Two Gratings Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/rectangleNearField/" title="Two Rectangle Patterns Near-field" class="md-nav__link">
      Two Rectangle Patterns Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/mixedNearField/" title="Mixed Patterns Near-field" class="md-nav__link">
      Mixed Patterns Near-field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/MPI/" title="MPI Example" class="md-nav__link">
      MPI Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../develop/" title="Developer" class="md-nav__link">
      Developer
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#physical-quantities-computed-by-mesh" title="Physical Quantities Computed By MESH" class="md-nav__link">
    Physical Quantities Computed By MESH
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-planar-geometries" title="Heat transfer in planar geometries" class="md-nav__link">
    Heat transfer in planar geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-grating-geometries" title="Heat transfer in grating geometries" class="md-nav__link">
    Heat transfer in grating geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heat-transfer-in-pattern-geometries" title="Heat transfer in pattern geometries" class="md-nav__link">
    Heat transfer in pattern geometries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supports-over-both-scalar-dielectric-and-tensor-dielectric" title="Supports over both scalar dielectric and tensor dielectric" class="md-nav__link">
    Supports over both scalar dielectric and tensor dielectric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-comprehensive-lua-wrapper-for-users" title="A Comprehensive Lua Wrapper for Users" class="md-nav__link">
    A Comprehensive Lua Wrapper for Users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/kfrancischen/MESH/edit/master/docs/features.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Equations & Features</h1>
                
                <h3 id="physical-quantities-computed-by-mesh">Physical Quantities Computed By MESH<a class="headerlink" href="#physical-quantities-computed-by-mesh" title="Permanent link">&para;</a></h3>
<p>By classifying the geometries into three different categories: planar geometry where the basic components are plates, grating geometry which contains at least one layer has a grating along <script type="math/tex">x</script> direction, and patterns where at least one layer has either rectangle or circular patterns. The details about these three types are discussed below.</p>
<p>In general, the total heat transfer between bodies with temperatures <script type="math/tex">T_1</script> and <script type="math/tex">T_2</script> is written as</p>
<p>
<script type="math/tex; mode=display">P=\int d\omega [\Theta(T_1, \omega)-\Theta(T_2,\omega)]\Phi(\omega)</script>
</p>
<p>where the quantity <script type="math/tex">\Phi(\omega)</script> characterize the strength of heat transfer between the two bodies involved.</p>
<h4 id="heat-transfer-in-planar-geometries">Heat transfer in planar geometries<a class="headerlink" href="#heat-transfer-in-planar-geometries" title="Permanent link">&para;</a></h4>
<p>For planar geometries (implemented as <a href="../LuaAPI/planar/">SimulationPlanar</a> object),  the quantity <script type="math/tex">\Phi(\omega)</script> computed by integrating the <script type="math/tex">k_x</script> and <script type="math/tex">k_y</script> vector over the whole <script type="math/tex">k</script> space, i.e.</p>
<p>
<script type="math/tex; mode=display">\Phi(\omega)=\int_{-\infty}^{\infty}dk_x\int_{-\infty}^{\infty}dk_y \Phi(k_x,k_y, \omega)</script>
</p>
<p>And in the case of an isotropic material in <script type="math/tex">x</script> and <script type="math/tex">y</script> direction, the above integral can be reduced to</p>
<p>
<script type="math/tex; mode=display">\Phi(\omega)=\int_{0}^{\infty}dk_{\parallel} \Phi(k_{\parallel}, \omega)</script>
</p>
<p>MESH directly provides function to compute <script type="math/tex">\Phi(\omega, k_x, k_y)</script>, <script type="math/tex">\Phi(\omega, k_{\parallel})</script> and <script type="math/tex">\Phi(\omega)</script> directly.</p>
<h4 id="heat-transfer-in-grating-geometries">Heat transfer in grating geometries<a class="headerlink" href="#heat-transfer-in-grating-geometries" title="Permanent link">&para;</a></h4>
<p>In the case of a grating geometry (implemented as <a href="../LuaAPI/grating/">SimulationGrating</a> object), the heat transfer rate is written as</p>
<p>
<script type="math/tex; mode=display">\Phi(\omega)=\int_{-G/2}^{G/2}dk_x\int_{-\infty}^{\infty}dk_y \Phi(k_x,k_y, \omega)</script>
</p>
<p>Here again, MESH gives access to a few things</p>
<ul>
<li>settings of the integral: for isotropic geometries <script type="math/tex">\int_{-G/2}^{G/2}</script> and  <script type="math/tex">\int_{-\infty}^{\infty}</script> can be reduced to twice of the integral over the positive axis.</li>
<li>directly computation of <script type="math/tex">\Phi(k_x,k_y, \omega)</script> and <script type="math/tex">\Phi(\omega)</script>, and allows to print out <script type="math/tex">\Phi(k_x,k_y, \omega)</script> in the process of obtaining <script type="math/tex">\Phi(\omega)</script>.</li>
</ul>
<h4 id="heat-transfer-in-pattern-geometries">Heat transfer in pattern geometries<a class="headerlink" href="#heat-transfer-in-pattern-geometries" title="Permanent link">&para;</a></h4>
<p>In the case of a pattern geometry (implemented as <a href="../LuaAPI/pattern/">SimulationPattern</a> object), the heat transfer rate is written as</p>
<p>
<script type="math/tex; mode=display">\Phi(\omega)=\int_{-G_x/2}^{G_x/2}dk_x\int_{-G_y/2}^{-G_y/2}dk_y \Phi(k_x,k_y, \omega)</script>
</p>
<p>Again similar to the grating geometries, integral settings and printing of intermediate <script type="math/tex">\Phi(k_x,k_y, \omega)</script> are supported. In addition, multiple different kinds of patterns can exist in one layer. However, the code now only supports a rectangle lattice and non-interleaving patterns. In MESH, the only two patterns supported are rectangle and circle. However, extending the code to non-trivial lattice and adding supports to more patterns are in principle doable.</p>
<h4 id="supports-over-both-scalar-dielectric-and-tensor-dielectric">Supports over both scalar dielectric and tensor dielectric<a class="headerlink" href="#supports-over-both-scalar-dielectric-and-tensor-dielectric" title="Permanent link">&para;</a></h4>
<p>MESH also supports material whose dielectric can be scalar, diagonal, or a tensor. These three different types are encapsulated into a Union type in MESH. Currently for tensor types, MESH can only deal with the case when epsilon in the <script type="math/tex">z</script> direction can be decomposed from <script type="math/tex">x</script> and <script type="math/tex">y</script> directions, i.e.</p>
<p>
<script type="math/tex; mode=display"> \overleftrightarrow{\epsilon}=\begin{pmatrix}
\epsilon_{xx} & \epsilon_{xy} & 0\\
\epsilon_{yx} & \epsilon_{yy} & 0\\
0 & 0 & \epsilon_{zz}
\end{pmatrix}</script>
</p>
<h4 id="a-comprehensive-lua-wrapper-for-users">A Comprehensive Lua Wrapper for Users<a class="headerlink" href="#a-comprehensive-lua-wrapper-for-users" title="Permanent link">&para;</a></h4>
<p>Lua wrapper for C code is widely used because of easy implementation and high readability. For example, <a href="https://web.stanford.edu/group/fan/S4/">S4</a> which is also an implementation of RCWA for periodic geometries, also utilizes Lua as its front. Here MESH not only gives the user basic functionalities of computing physical quantities related to heat transfer, but also allows users to directly use MPI in a lua script, so that users have better control over the simulation at run time. To show the advantages of directly revealing MPI interface to the users, a concrete example of lua MPI interface is explained in the <a href="../Examples/MPI/">example section</a>. MESH also provides a vanilla version that can be built without MPI. In that case, OpenMP is used if the system has OpenMP libraries built in.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Installation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c6f9af8d0c.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../mathjaxhelper.js"></script>
      
    
    
      
    
  </body>
</html>